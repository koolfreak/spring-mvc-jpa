<div
        xmlns:th="http://www.thymeleaf.org"
        xmlns:tiles="http://www.thymeleaf.org"
        xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">

    <div tiles:fragment="mainContent">

        <div
             xmlns:th="http://www.thymeleaf.org"
             th:with="lastUsernameKey=${T(org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter).SPRING_SECURITY_LAST_USERNAME_KEY},
              lastExceptionKey=${T(org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter).SPRING_SECURITY_LAST_EXCEPTION_KEY}">

            <div class="error" th:if="${param.login_error}">
                Your login attempt was not successful, try again.<br /><br />
                Reason: <span th:text="${session[__${lastExceptionKey}__].message}">Invalid password</span>
            </div>

            <form name="f" action="#" th:action="@{/loginProcess}" method="post">

                <fieldset>

                    <legend>Login Information</legend>

                    <p>
                        <label for="j_username">User:</label>
                        <br />
                        <input type="text" name="j_username" id="j_username"
                               th:value="${param.login_error} ? ${session[__${lastUsernameKey}__]} : ''" />
                    </p>



                    <p>
                        <label for="j_password">Password:</label>
                        <br />
                        <input type="password" name="j_password" id="j_password" />
                    </p>



                    <p>
                        <input type="checkbox" name="_spring_security_remember_me" id="remember_me" />
                        <label for="remember_me">Don't ask for my password for two weeks:</label>
                    </p>


                    <p>
                        <button id="submit" type="submit">Login</button>

                    </p>

                </fieldset>

            </form>

        </div>

    </div>

</div>